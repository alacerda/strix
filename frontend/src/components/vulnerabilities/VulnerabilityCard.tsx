'use client';

import type { Vulnerability } from '@/types';

interface VulnerabilityCardProps {
  vulnerability: Vulnerability;
  onClick: () => void;
}

export function VulnerabilityCard({ vulnerability, onClick }: VulnerabilityCardProps) {
  const getSeverityClass = (severity: string) => {
    switch (severity) {
      case 'critical':
        return 'border-l-critical';
      case 'high':
        return 'border-l-high';
      case 'medium':
        return 'border-l-medium';
      case 'low':
        return 'border-l-low';
      case 'info':
        return 'border-l-info';
      default:
        return 'border-l-border-color';
    }
  };

  return (
    <div
      onClick={onClick}
      className={`p-4 mb-3 bg-bg-tertiary rounded-lg border-l-4 cursor-pointer transition-all hover:translate-x-1 hover:shadow-lg ${getSeverityClass(vulnerability.severity)}`}
    >
      <div className="flex justify-between items-start mb-2">
        <div className="text-sm font-semibold flex-1">{vulnerability.title}</div>
        <div className="text-xs text-text-muted font-mono ml-2">{vulnerability.id}</div>
      </div>
      <div className="text-xs text-text-secondary mt-2 line-clamp-2">
        {vulnerability.content}
      </div>
      {vulnerability.timestamp && (
        <div className="text-xs text-text-muted mt-2">
          {new Date(vulnerability.timestamp).toLocaleString()}
        </div>
      )}
    </div>
  );
}

